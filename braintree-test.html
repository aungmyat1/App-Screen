<!DOCTYPE html>
<html>
<head>
    <title>Braintree Payment Test</title>
    <script src="https://js.braintreegateway.com/web/dropin/1.32.1/js/dropin.min.js"></script>
</head>
<body>
    <h1>Braintree Payment Test</h1>
    
    <div id="dropin-container"></div>
    <button id="submit-button" disabled>Pay Now</button>
    <div id="results"></div>

    <script>
        // This would normally be fetched from your backend
        const clientToken = 'sandbox_client_token'; // Replace with actual token from backend
        
        let dropinInstance;

        braintree.dropin.create({
            authorization: clientToken,
            container: '#dropin-container'
        }, function (createErr, instance) {
            dropinInstance = instance;
            document.getElementById('submit-button').disabled = false;
            
            document.getElementById('submit-button').addEventListener('click', function () {
                instance.requestPaymentMethod(function (err, payload) {
                    if (err) {
                        console.error('Error:', err);
                        return;
                    }
                    
                    // Send payload.nonce to your server
                    document.getElementById('results').innerHTML = 
                        '<p>Payment method nonce: ' + payload.nonce + '</p>' +
                        '<p>Send this nonce to your server to process the payment.</p>';
                });
            });
        });
    </script>
</body>
</html>